<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>javascript</title>
</head>
<body>
    <h2>Promise with then and catch</h2>
    <h3>code:</h3>
    <pre>
        // let p = new Promise((resolve, reject) =>{
            //     let a = 1 + 1; //if condition is not true then it will print catch message
            //     if(a == 2){
            //         resolve('Success')
            //     } else{
            //         reject('Failed')
            //     }
            // })
            // p.then((message) => {
            //     console.log('This is in the then ' + message)
            // }).catch((message) =>{
            //     console.log('This is in the then ' + message)
            // })
    </pre>
    <h2>Promise Example</h2>
    <h3>code:</h3>
    <pre>
        // const userleft = false 
        // const userwatch = true
        // function watchtutorialpromise(){
        //     return new Promise((resolve, reject) => {
        //         if (userleft){
        //             reject({
        //                 name: 'User Left',
        //                 message: ':('
        //             })
        //     }else if(userwatch){
        //         reject({
        //             name:'User Watching Videos',
        //             message: ''
        //         })
        //     }else{
        //         resolve('Thumbs up')
        //     }
        // })
        // }
    </pre>
    <h2>Promise simple Example for call all the promise</h2>
    <h3>code:</h3>
    <pre>
        const promiseOne = new Promise((resolve, reject) => {
            resolve('Promise One Record')
        })
        
        const promiseTwo = new Promise((resolve, reject) =>{
            resolve('Promise Two Record')
        })
        
        const promiseThree = new Promise((resolve, reject) =>{
            resolve('Promise Three Record')
        })
        
        Promise.all([
            promiseOne,
            promiseTwo,
            promiseThree
        ]).then((message) => {
            console.log(message)
        })
    </pre>
    <h2>Promise.race Example 1</h2>
    <h3>code:</h3>
    <pre>
        let p1 = Promise.reject(111);
        let p2 = Promise.resolve(222);
        let p3 = new Promise((resolve, reject) => {
        setTimeout(resolve, 1000, 333);
        });
        Promise.race([p1, p2, p3]) //This will print Failed 111
        // Promise.race([p2, p1, p3]) //This will print Winning 222
        // Promise.race([p3, p2, p1]) //This will print Winning 222
        .then((result) => {
            console.log("Winning", result);
        })
        .catch((result) => {
            console.log("Failed", result);
        });
    </pre>
    <h2>Promise.race Example 2</h2>
    <h3>code:</h3>
    <pre>
        const promise1 = new Promise((resolve, reject) => {
        setTimeout(resolve, 500, "one");
        });
        const promise2 = new Promise((resolve, reject) => {
        setTimeout(resolve, 100, "two");
        });
        Promise.race([promise1, promise2]).then((value) => {
        console.log(value);
        // Both resolve, but promise2 is faster
        });
    </pre>
    <h2>Promise.all Example</h2>
    <h3>code:</h3>
    <pre>
        const pro1 = Promise.resolve(3);
        const pro2 = 42;
        const pro3 = new Promise((resolve, reject) => {
        setTimeout(resolve, 100, 'foo');
        });

        Promise.all([pro1, pro2, pro3]).then((values) => {
        console.log(values);
        });
        // Expected output: Array [3, 42, "foo"]
    </pre>
    <script src="script.js"></script>
</body> 
</html>